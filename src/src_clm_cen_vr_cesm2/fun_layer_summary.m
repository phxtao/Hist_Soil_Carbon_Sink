function var_output = fun_layer_summary(var_layer)

% width between two interfaces
dz = [2.000000000000000E-002, 4.000000000000000E-002, 6.000000000000000E-002, ...
    8.000000000000000E-002, 0.120000000000000, 0.160000000000000, ...
    0.200000000000000, 0.240000000000000, 0.280000000000000, ...
    0.320000000000000, 0.360000000000000, 0.400000000000000, ...
    0.440000000000000, 0.540000000000000, 0.640000000000000, ...
    0.740000000000000, 0.840000000000000, 0.940000000000000, ...
    1.04000000000000, 1.14000000000000, 2.39000000000000, ...
    4.67553390593274, 7.63519052838329, 11.1400000000000, ...
    15.1154248593737]';

% depth of the interface
zisoi = [2.000000000000000E-002, 6.000000000000000E-002, ...
    0.120000000000000, 0.200000000000000, 0.320000000000000, ...
    0.480000000000000, 0.680000000000000, 0.920000000000000, ...
    1.20000000000000, 1.52000000000000, 1.88000000000000, ...
    2.28000000000000, 2.72000000000000, 3.26000000000000, ...
    3.90000000000000, 4.64000000000000, 5.48000000000000, ...
    6.42000000000000, 7.46000000000000, 8.60000000000000, ...
    10.9900000000000, 15.6655339059327, 23.3007244343160, ...
    34.4407244343160, 49.5561492936897]';
n_soil_layer = 20;

var_1 = sum(var_layer(1:4).*dz(1:4)) + var_layer(5)*dz(5)*(0.3 - zisoi(4))/(zisoi(5) - zisoi(4));
var_2 = sum(var_layer(1:8).*dz(1:8)) + var_layer(9)*dz(9)*(1 - zisoi(8))/(zisoi(9) - zisoi(8));
var_3 = sum(var_layer(1:11).*dz(1:11)) + var_layer(12)*dz(12)*(2 - zisoi(11))/(zisoi(12) - zisoi(11));
var_4 = sum(var_layer.*dz(1:n_soil_layer));
% 
% var_1 = sum(var_layer(1:2).*dz(1:2));
% var_2 = sum(var_layer(3:4).*dz(3:4));
% var_3 = sum(var_layer(5:9).*dz(5:9));
% var_4 = sum(var_layer(10:n_soil_layer).*dz(10:n_soil_layer));
% 
var_output = [var_1, var_2 - var_1, var_3 - var_2, var_4 - var_3];
end
